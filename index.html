<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Sono</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: 'hsl(var(--primary))',
                        'primary-foreground': 'hsl(var(--primary-foreground))',
                    },
                },
            },
        }
    </script>
    <style>
        :root {
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white shadow-md rounded-lg p-6 w-full max-w-md">
        <h1 class="text-2xl font-bold text-center mb-6">Calculadora de Sono</h1>
        <form id="sleep-form" class="space-y-4">
            <div class="space-y-2">
                <label for="sleep-time" class="flex items-center space-x-2 text-sm font-medium text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
                    <span>Hora de dormir</span>
                </label>
                <input type="time" id="sleep-time" name="sleep-time" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
            </div>
            <div class="space-y-2">
                <label for="wake-time" class="flex items-center space-x-2 text-sm font-medium text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
                    <span>Hora de acordar</span>
                </label>
                <input type="time" id="wake-time" name="wake-time" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
            </div>
            <button type="submit" 
                    class="w-full bg-primary text-primary-foreground py-2 px-4 rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                Calcular
            </button>
        </form>
        <div id="result" class="mt-6 p-4 bg-primary/10 rounded-md">
            <p class="text-center font-medium flex items-center justify-center space-x-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                <span id="sleep-result">Tempo total de sono: --:--</span>
            </p>
        </div>
    </div>

    <script>
        document.getElementById('sleep-form').addEventListener('submit', function (e) {
            e.preventDefault();
            
            const sleepTime = document.getElementById('sleep-time').value;
            const wakeTime = document.getElementById('wake-time').value;
            
            if (!sleepTime || !wakeTime) {
                alert('Por favor, insira ambos os horários de dormir e acordar!');
                return;
            }

            // Convertemos o horário de dormir e de acordar em objetos Date
            const [sleepHours, sleepMinutes] = sleepTime.split(':').map(Number);
            const sleepDate = new Date();
            sleepDate.setHours(sleepHours, sleepMinutes, 0, 0);

            const [wakeHours, wakeMinutes] = wakeTime.split(':').map(Number);
            const wakeDate = new Date();
            wakeDate.setHours(wakeHours, wakeMinutes, 0, 0);

            // Se o horário de acordar for antes do de dormir, adiciona 1 dia ao horário de acordar
            if (wakeDate <= sleepDate) {
                wakeDate.setDate(wakeDate.getDate() + 1);
            }

            // Calcula a diferença em milissegundos
            const diffMs = wakeDate - sleepDate;

            // Converte para horas e minutos
            const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
            const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));

            // Atualiza o resultado no HTML
            document.getElementById('sleep-result').textContent = 
                `Tempo total de sono: ${diffHours} horas e ${diffMinutes} minutos.`;
        });
    </script>
</body>
</html>
